<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assistente de SeguranÃ§a para Motoboys</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
        }
        .chat-container {
            width: 100%;
            max-width: 400px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        .chat-header {
            background-color: #4CAF50;
            color: #fff;
            padding: 15px;
            text-align: center;
            font-size: 18px;
        }
        .chat-messages {
            height: 400px;
            overflow-y: auto;
            padding: 15px;
        }
        .message {
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
            max-width: 80%;
        }
        .user-message {
            background-color: #E3F2FD;
            align-self: flex-end;
            margin-left: auto;
        }
        .bot-message {
            background-color: #F1F1F1;
        }
        .chat-input {
            display: flex;
            padding: 15px;
            border-top: 1px solid #e0e0e0;
        }
        #user-input {
            flex-grow: 1;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        #send-button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: #fff;
            border: none;
            border-radius: 5px;
            margin-left: 10px;
            cursor: pointer;
        }
        .quick-replies {
            display: flex;
            flex-wrap: wrap;
            padding: 10px;
            gap: 5px;
        }
        .quick-reply {
            background-color: #E3F2FD;
            border: none;
            border-radius: 15px;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 14px;
        }
        .score {
            text-align: center;
            padding: 10px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">Assistente de SeguranÃ§a para Motoboys</div>
        <div class="chat-messages" id="chat-messages"></div>
        <div class="quick-replies" id="quick-replies"></div>
        <div class="chat-input">
            <input type="text" id="user-input" placeholder="Digite sua mensagem...">
            <button id="send-button">Enviar</button>
        </div>
        <div class="score" id="score">PontuaÃ§Ã£o: 0</div>
    </div>

    <script>
        const chatMessages = document.getElementById('chat-messages');
        const userInput = document.getElementById('user-input');
        const sendButton = document.getElementById('send-button');
        const quickReplies = document.getElementById('quick-replies');
        const scoreElement = document.getElementById('score');

        let score = 0;

        const knowledgeBase = {
            "capacete": "O uso do capacete Ã© obrigatÃ³rio e essencial para sua seguranÃ§a. Ele reduz o risco de lesÃµes graves na cabeÃ§a em caso de acidente.",
            "luvas": "Luvas sÃ£o importantes para proteger suas mÃ£os em caso de queda e melhorar o controle da moto.",
            "jaqueta": "Uma jaqueta adequada protege contra abrasÃµes e intempÃ©ries, alÃ©m de aumentar sua visibilidade no trÃ¢nsito.",
            "calÃ§a": "CalÃ§as resistentes, como as de couro ou com proteÃ§Ã£o, sÃ£o fundamentais para proteger suas pernas em caso de acidente.",
            "bota": "Botas adequadas protegem seus pÃ©s e tornozelos, alÃ©m de proporcionar melhor aderÃªncia aos pedais da moto.",
            "manutenÃ§Ã£o": "Realizar manutenÃ§Ã£o regular na sua moto Ã© crucial para evitar problemas mecÃ¢nicos e acidentes.",
            "visibilidade": "Use roupas e acessÃ³rios refletivos para aumentar sua visibilidade, especialmente Ã  noite.",
            "clima": "Esteja preparado para diferentes condiÃ§Ãµes climÃ¡ticas. Chuva e frio podem afetar sua seguranÃ§a e desempenho.",
            "trÃ¢nsito": "Fique atento ao trÃ¢nsito, respeite as leis e sinalizaÃ§Ãµes, e sempre pilote defensivamente.",
            "descanso": "Descanse adequadamente entre as entregas. Fadiga pode diminuir seus reflexos e aumentar o risco de acidentes."
        };

        const unknownResponses = [
            "Eita, essa pergunta me pegou de surpresa! ğŸ˜… Que tal me perguntar sobre equipamentos de seguranÃ§a?",
            "Hmm, nÃ£o tenho certeza sobre isso. Mas ei, vocÃª sabia que usar capacete reduz em 40% o risco de morte em acidentes?",
            "Opa, essa informaÃ§Ã£o escapou do meu banco de dados! ğŸƒâ€â™‚ï¸ğŸ’¨ Que tal me contar como foi seu dia de trabalho hoje?",
            "Nossa, essa Ã© difÃ­cil! ğŸ¤” Enquanto penso, me diz aÃ­: vocÃª prefere entregas de dia ou de noite?",
            "Caramba, vocÃª me pegou! ğŸ˜± Mas falando em pegar, vocÃª sempre pega seu capacete antes de sair, nÃ©?",
            "Uau, vocÃª faz perguntas interessantes! ğŸ§ Mas e aÃ­, qual foi a entrega mais inusitada que vocÃª jÃ¡ fez?",
            "Essa pergunta Ã© mais complicada que trÃ¢nsito em horÃ¡rio de pico! ğŸ˜„ Melhor mudarmos de assunto. Como estÃ¡ sua moto hoje?",
            "Hum... nÃ£o sei responder isso, mas posso te contar uma piada de motoboy. Quer ouvir?",
            "Opa, acho que meu GPS mental se perdeu nessa pergunta! ğŸ—ºï¸ Que tal me perguntar sobre dicas de seguranÃ§a no trÃ¢nsito?",
            "Eita, acho que preciso de uma atualizaÃ§Ã£o de software pra essa! ğŸ–¥ï¸ Enquanto isso, me conta: qual seu lanche favorito durante as entregas?"
        ];

        const questions = [
            "E aÃ­, motoboy, qual foi a situaÃ§Ã£o mais engraÃ§ada que vocÃª jÃ¡ passou numa entrega? ğŸ˜‚",
            "Se sua moto pudesse falar, o que vocÃª acha que ela diria pra vocÃª? ğŸï¸",
            "Qual superpoder vocÃª gostaria de ter para fazer entregas? ğŸ¦¸â€â™‚ï¸",
            "Se vocÃª pudesse dar um conselho pro seu eu do passado sobre ser motoboy, qual seria? ğŸ¤”",
            "Qual Ã© o item mais estranho que vocÃª jÃ¡ teve que entregar? ğŸ“¦",
            "Se existisse um Oscar para motoboys, em qual categoria vocÃª ganharia? ğŸ†",
            "Qual Ã© o seu truque secreto para lidar com clientes impacientes? ğŸ¤«",
            "Se vocÃª pudesse inventar um acessÃ³rio incrÃ­vel para motoboys, o que seria? ğŸ› ï¸",
            "Qual Ã© a sua teoria sobre por que os semÃ¡foros sempre ficam vermelhos quando vocÃª estÃ¡ com pressa? ğŸš¦",
            "Se vocÃª fosse escrever um livro sobre suas aventuras como motoboy, qual seria o tÃ­tulo? ğŸ“š"
        ];

        const interactiveResponses = {
            "engraÃ§ada": [
                "Nossa, essa deve ter sido hilÃ¡ria! ğŸ˜‚ Aposto que vocÃª tem vÃ¡rias histÃ³rias pra contar num show de stand-up de motoboys!",
                "Caramba, dÃ¡ pra fazer um filme de comÃ©dia com essas histÃ³rias! ğŸ¬ JÃ¡ pensou em escrever um roteiro?",
                "Hahahaha! ğŸ¤£ Ã‰ por isso que adoro conversar com motoboys, vocÃªs sempre tÃªm as melhores histÃ³rias!"
            ],
            "falar": [
                "Rapaz, se minha moto falasse, ela provavelmente diria: 'Por favor, menos buracos e mais revisÃµes!' ğŸ˜…",
                "Ah, aposto que ela pediria uma lavagem e um posto de gasolina com desconto! ğŸ§¼â›½",
                "Ela provavelmente reclamaria do seu gosto musical nas entregas! ğŸµ Mas quem liga? O piloto Ã© vocÃª! ğŸ˜"
            ],
            "superpoder": [
                "Uau, esse superpoder seria incrÃ­vel! ğŸ¦¸â€â™‚ï¸ Imagina quantas entregas vocÃª faria num piscar de olhos!",
                "Caramba, com esse poder vocÃª seria o motoboy mais rÃ¡pido do Oeste! ğŸ¤  Ou do Leste, ou de onde vocÃª for!",
                "Esse superpoder Ã© maneiro demais! Mas lembra, 'com grandes poderes vem grandes responsabilidades'... e mais gorjetas! ğŸ’°"
            ],
            "conselho": [
                "Esse Ã© um conselho e tanto! ğŸ‘ Se todos os motoboys novatos ouvissem isso, as ruas seriam muito mais seguras!",
                "Uau, vocÃª Ã© tipo um guru dos motoboys! ğŸ§˜â€â™‚ï¸ Devia abrir um curso online 'Sabedoria das Duas Rodas'!",
                "SÃ¡bias palavras, meu amigo! ğŸ¦‰ Com esse conselho, vocÃª podia ser o Yoda dos motoboys. Que a forÃ§a do trÃ¢nsito esteja com vocÃª!"
            ],
            "estranho": [
                "Minha nossa! ğŸ˜± E eu achando que entregar pizza de abacaxi era estranho! VocÃª ganhou!",
                "Caramba, isso Ã© mais inusitado que pneu quadrado! ğŸ˜‚ VocÃª devia escrever um livro 'As Entregas Mais Loucas'!",
                "Uau! Depois dessa entrega, nada mais te assusta, nÃ©? ğŸ’ª VocÃª Ã© oficialmente um motoboy de elite!"
            ],
            "Oscar": [
                "Haha, adorei! ğŸ† VocÃª merece nÃ£o sÃ³ um Oscar, mas um Tony, um Emmy e um Grammy tambÃ©m!",
                "Essa categoria Ã© perfeita pra vocÃª! JÃ¡ consigo atÃ© ver seu discurso de agradecimento na TV! ğŸ“º",
                "Olha sÃ³, temos uma estrela das entregas aqui! ğŸŒŸ Quando for pra Hollywood, nÃ£o esquece da gente, viu?"
            ],
            "truque": [
                "Esse truque Ã© genial! ğŸ§™â€â™‚ï¸ VocÃª devia dar palestras de 'Como Encantar Clientes Sem Usar MÃ¡gica'!",
                "Uau, vocÃª Ã© tipo um ninja da paciÃªncia! ğŸ¥· Esse truque devia ser ensinado em todas as escolas de motoboys!",
                "Cara, com esse truque vocÃª podia ser diplomata! ğŸ¤ Imagina resolver conflitos internacionais entre uma entrega e outra?"
            ],
            "acessÃ³rio": [
                "Caramba, essa invenÃ§Ã£o Ã© incrÃ­vel! ğŸš€ JÃ¡ pensou em participar do 'Shark Tank: EdiÃ§Ã£o Motoboy'?",
                "Uau! Com esse acessÃ³rio, vocÃª seria tipo o 'Tony Stark' dos motoboys! ğŸ¦¾ Quando comeÃ§a a produÃ§Ã£o em massa?",
                "Genial! ğŸ’¡ Isso revolucionaria o mundo das entregas! VocÃª devia patentear essa ideia antes que eu roube! ğŸ˜‰"
            ],
            "semÃ¡foros": [
                "Essa teoria Ã© hilÃ¡ria! ğŸ˜‚ Acho que os semÃ¡foros tÃªm um complÃ´ secreto contra os motoboys apressados!",
                "Hahaha! Talvez os semÃ¡foros sejam controlados por alienÃ­genas que adoram ver motoboys impacientes! ğŸ‘½ğŸ›¸",
                "Boa teoria! Eu acho que os semÃ¡foros sÃ£o na verdade cÃ¢meras escondidas de um reality show 'Motoboys Pistolas'! ğŸ“ºğŸ˜ "
            ],
            "livro": [
                "Esse tÃ­tulo Ã© sensacional! ğŸ“š JÃ¡ consigo ver ele no topo da lista dos mais vendidos!",
                "Hahaha, adorei! ğŸ˜‚ Esse livro seria um best-seller instantÃ¢neo no mundo dos motoboys!",
                "Cara, com um tÃ­tulo desses, seu livro vai virar filme! ğŸ¬ Quem vocÃª quer que interprete vocÃª no cinema?"
            ]
        };

        function getBotResponse(userMessage) {
            userMessage = userMessage.toLowerCase();
            for (const [keyword, response] of Object.entries(knowledgeBase)) {
                if (userMessage.includes(keyword)) {
                    incrementScore();
                    return response;
                }
            }
            return getRandomUnknownResponse();
        }

        function getRandomUnknownResponse() {
            const randomIndex = Math.floor(Math.random() * unknownResponses.length);
            return unknownResponses[randomIndex];
        }

        function askQuestion() {
            const randomIndex = Math.floor(Math.random() * questions.length);
            const question = questions[randomIndex];
            appendMessage('Assistente', question);
        }

        function getInteractiveResponse(userMessage) {
            for (const [keyword, responses] of Object.entries(interactiveResponses)) {
                if (userMessage.toLowerCase().includes(keyword)) {
                    const randomIndex = Math.floor(Math.random() * responses.length);
                    return responses[randomIndex];
                }
            }
            return null;
        }

        let lastMessageWasQuestion = false;

        function sendMessage() {
            const userMessage = userInput.value;
            if (userMessage.trim() === '') return;

            appendMessage('VocÃª', userMessage);
            let botResponse;

            if (lastMessageWasQuestion) {
                botResponse = getInteractiveResponse(userMessage) || getBotResponse(userMessage);
                lastMessageWasQuestion = false;
            } else {
                botResponse = getBotResponse(userMessage);
                if (Math.random() < 0.3) {  // 30% de chance de fazer uma pergunta
                    askQuestion();
                    lastMessageWasQuestion = true;
                }
            }

            appendMessage('Assistente', botResponse);

            userInput.value = '';
            updateQuickReplies();
        }

 function appendMessage(sender, message) {
            const messageElement = document.createElement('div');
            messageElement.classList.add('message', sender === 'VocÃª' ? 'user-message' : 'bot-message');
            messageElement.textContent = `${sender}: ${message}`;
            chatMessages.appendChild(messageElement);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function updateQuickReplies() {
            quickReplies.innerHTML = '';
            const topics = Object.keys(knowledgeBase);
            const randomTopics = topics.sort(() => 0.5 - Math.random()).slice(0, 3);
            randomTopics.forEach(topic => {
                const button = document.createElement('button');
                button.classList.add('quick-reply');
                button.textContent = topic;
                button.addEventListener('click', () => {
                    userInput.value = topic;
                    sendMessage();
                });
                quickReplies.appendChild(button);
            });
        }

        function incrementScore() {
            score += 10;
            scoreElement.textContent = `PontuaÃ§Ã£o: ${score}`;
        }

        sendButton.addEventListener('click', sendMessage);
        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Mensagem inicial do assistente
        appendMessage('Assistente', 'OlÃ¡! Sou o assistente de seguranÃ§a para motoboys. Como posso ajudar vocÃª hoje?');
        updateQuickReplies();
    </script>
</body>
</html>
